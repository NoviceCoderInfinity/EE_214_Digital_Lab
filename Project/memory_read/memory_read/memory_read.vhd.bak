library std;
use std.textio.all;

library ieee;
use ieee.std_logic_1164.all;

entity memory_read is
 port(u1, u2, u3, u4 : in std_logic;
      j1, j2, j3, j4 : in std_logic_vector(4 downto 0);
		dw1, dw2, dw3, dw4 : out std_logic_vector(8 downto 0));
end entity;

architecture struct of memory_read is
begin
 process
    variable INPUT_LINE: Line;
    variable OUTPUT_LINE: Line;
    variable LINE_COUNT: integer := 0;
	 
	 variable dest_index: bit_vector (4 downto 0);
    variable dest_wt: bit_vector (8 downto 0);
    variable src_index: bit_vector (4 downto 0);
 begin
  while not endfile(INFILE) loop
   LINE_COUNT := LINE_COUNT + 1;
	
	 readLine (INFILE, INPUT_LINE);
          read (INPUT_LINE, dest_index);
          read (INPUT_LINE, dest_wt);
          read (INPUT_LINE, src_index);
  